<header>
    <h1 class="mainTitle">{{appName}}</h1>
    <nav class="navbar">
        <ul class="nav-links">
            {{#each navLinks}}
            <li><a href="{{href}}">{{text}}</a></li>
            {{/each}}
        </ul>
    </nav>
</header>

{{#if user}}
Welcome, {{user.firstName}}!
{{#ifEquals user.role 'employer'}}
<span>(Company: {{user.companyName}})</span>
{{/ifEquals}}
<a href="/logout">Logout</a>
{{/if}}

<div class="form-container">
    <!-- login -->
    <br>
    <form id="login-form" method="post" action="/login">
        <fieldset>
            <legend>Log in</legend>
            <div class="form-group">
                <label for="login-name">Username</label><br>
                <input type="text" id="login-name" name="username" placeholder="Username">
            </div><br>

            <div class="form-group">
                <label for="login-password">Password</label><br>
                <input type="password" id="login-password" name="password" placeholder="Password">
            </div>

            <div>
                <input type="submit" value="Log In">
            </div><br>
        </fieldset>
    </form><br>

    <!-- REGISTER -->
    <form id="register-form" method="post" action="/register">
        <fieldset>
            <legend>Register</legend>

            <div class="row">
                <div class="form-group">
                    <label for="reg-name">First Name</label><br>
                    <input type="text" id="reg-name" name="firstName" placeholder="First Name" required>
                </div>

                <div class="form-group">
                    <label for="reg-surname">Last Name</label><br>
                    <input type="text" id="reg-surname" name="lastName" placeholder="Last Name" required>
                </div>
            </div>

            <div class="form-group">
                <label for="reg-username">Username</label><br>
                <input type="text" id="reg-username" name="username" placeholder="Username" required>
            </div><br>

            <div class="form-group">
                <label for="reg-email">Email</label><br>
                <input type="email" id="reg-email" name="email" placeholder="Email" required>
            </div><br>

            <div class="form-group">
                <label for="reg-password">Password</label><br>
                <input type="password" id="reg-password" name="password" placeholder="Password" required>
            </div><br>

            <div class="form-group">
                <label for="reg-location">Location</label><br>
                <input type="location" id="reg-location" name="location" placeholder="Location (optional)">
            </div><br>

            <div class="form-group">
                <label for="reg-phone">Phone</label><br>
                <input type="phone" id="reg-phone" name="phone" placeholder="Phone (optional)">
            </div><br>

            <div class="form-group">
                <label for="reg-role">Register as:</label><br>
                <select name="role" id="reg-role" required>
                    <option value="job_seeker">Job Seeker</option>
                    <option value="employer">Employer</option>
                </select>
            </div>
            <br>

            <div class="form-group">
                <div id="company-field" style="display: none;">
                    <label for="companyName">Company Name</label>
                    <input type="text" name="companyName" id="companyName" placeholder="Company Name" required>

                    <label for="companyDesc">Company Description</label>
                    <input type="text" name="companyDesc" id="companyDesc" placeholder="Company Description">

                    <label for="companyLocation">Company Location</label>
                    <input type="text" name="companyLocation" id="companyLocation" placeholder="Company Location">
                </div>
            </div>
            <br>

            <script>
                function toggleCompanyField() {
                    const role = document.getElementById('reg-role').value;
                    const field = document.getElementById('company-field');
                    field.style.display = (role === 'employer') ? 'block' : 'none';
                }

                document.addEventListener('DOMContentLoaded', () => {
                    toggleCompanyField();
                    document.getElementById('reg-role').addEventListener('change', toggleCompanyField);
                });
            </script>

            <div>
                <input type="submit" value="Register">
            </div>
        </fieldset>
    </form>

</div>